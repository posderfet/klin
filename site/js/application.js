var MAX_LEFT,MAX_TOP,MIN_HEIGHT,MIN_WIDTH;MIN_HEIGHT=null,MIN_WIDTH=null,MAX_LEFT=null,MAX_TOP=null,window.onresize=function(){var e,s,t,o,n,a,c,i,h,r,u,l;MIN_HEIGHT||(MIN_HEIGHT=parseInt($(".house-page-wrapper").css("min-height").replace("px",""))),MIN_WIDTH||(MIN_WIDTH=parseInt($(".house-page-wrapper").css("min-width").replace("px",""))),i=$(window).width(),t=$(window).height(),i<MIN_WIDTH&&(i=MIN_WIDTH),t<MIN_HEIGHT&&(t=MIN_HEIGHT),o=$(".house-canvas__background-image");try{MAX_LEFT||(MAX_LEFT=parseInt($(o).attr("data-max-left"))/100)}catch(e){}try{MAX_TOP||(MAX_TOP=parseInt($(o).attr("data-max-top"))/100)}catch(e){}return o=o[0],a=o.naturalWidth,n=o.naturalHeight,e=1*a/n,h=1*i/t,r=$(".house-canvas-wrapper"),s=$(".debug"),s.length>0&&s.html($(window).width()+"x"+$(window).height()+"<br/>"+(i+"x"+t+": "+h.toFixed(2))+"<br/>"+(a+"x"+n+": "+e.toFixed(2))),c=[0,0],u=c[0],l=c[1],h<e?(u=t,l=t*e):(l=i,u=i/e),r.css({width:l,height:u}),l-i>0?MAX_LEFT?r.css({left:Math.max(-MAX_LEFT*i,i-l)+"px"}):r.css({left:i-l+"px"}):r.css({left:0}),u-t>0?MAX_TOP?r.css({top:Math.max(-MAX_TOP*t,t-u)+"px"}):r.css({top:t-u+"px"}):r.css({top:0}),r.show()},jQuery(function(){var e,s,t;return $(window).resize(onresize),s=$(".house-canvas__background-image")[0],$(".choice-house-section").css("left",$(".site-header__logo").offset().left),$(window).resize(function(){return $(".choice-house-section").css("left",$(".site-header__logo").offset().left)}),e=function(){if($("#house-canvas").hasClass("open-section"))return $("#house-canvas").removeClass("open-section"),$("#house-canvas .house-section.selected").removeClass("selected"),$(".choice-house__section-slide").hide(),$(".choice-house__apartment").show()},$("html").click(function(s){if($(s.target).hasClass("house-canvas__background-image")||$(s.target).hasClass("main-container"))return e()}),$("html").on("click","#house-canvas.open-section .house-section:not(.selected)",function(s){return e()}),$("html").on("click",".slide-prev",function(){var e;if(e=$("#house-canvas .house-section.selected").prev(),0!==e.length)return $("#house-canvas .house-section.selected").removeClass("selected"),t(e)}),$("html").on("click",".slide-next",function(){var e;if(e=$("#house-canvas .house-section.selected").next(),0!==e.length)return $("#house-canvas .house-section.selected").removeClass("selected"),t(e)}),$("html").on("click","#house-canvas:not(.open-section) .house-section",function(e){return t($(this))}),t=function(e){var s,t;return $("#house-canvas").addClass("open-section"),$("#house-canvas .house-section").removeClass("selected"),$(e).addClass("selected"),s=$(e).hasClass("one-section")?1:$(e).hasClass("two-section")?2:$(e).hasClass("three-section")?3:4,t=$(".choice-house__section-slide"),t.find(".slide-count__number").html(s),$(".choice-house__apartment").hide(),t.show()},$("html").on("click",".choice-house__ago",function(){return $("#house-canvas .house-section.selected").removeClass("selected"),$("#house-canvas.open-section").removeClass("open-section"),$(".choice-house__section-slide").hide(),$(".choice-house__apartment").show()}),$("body").off("click",".top-menu__button"),$("body").on("click",".top-menu__button",function(){return $(".top-menu-wrapper").toggleClass("open-top-menu"),$(".top-menu-wrapper").hasClass("open-top-menu")?($(this).attr("title","свернуть меню"),setTimeout(function(){return $(".top-menu-wrapper").addClass("overflow-visible")},800)):($(".top-menu-wrapper").removeClass("overflow-visible"),$(this).attr("title","открыть меню"))})});